(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=document.getElementById("container"),this.joystick=document.getElementById("joystick"),this.knob=document.getElementById("knob"),this.posX=0,this.posY=0,this.speedX=0,this.speedY=0,this.maxSpeed=10,this.dragging=!1,this.events()},n=[{key:"events",value:function(){for(var t=this,e=0;e<6;e++){var n=document.createElement("div");n.classList.add("text"),n.innerText="PAGINA"+(e+1);var o=this.getRandomPosition(5300,2700);n.style.left="".concat(o.x,"px"),n.style.top="".concat(o.y,"px"),n.style.width="400px",n.style.height="200px",this.container.appendChild(n)}this.joystick.addEventListener("mousedown",(function(e){return t.startDrag(e)})),this.joystick.addEventListener("touchstart",(function(e){return t.startDrag(e)})),document.addEventListener("mouseup",(function(e){return t.stopDrag(e)})),document.addEventListener("touchend",(function(e){return t.stopDrag(e)})),document.addEventListener("mousemove",(function(e){return t.drag(e)})),document.addEventListener("touchmove",(function(e){return t.drag(e)})),this.moveView()}},{key:"getRandomPosition",value:function(t,e){return{x:Math.random()*t,y:Math.random()*e}}},{key:"startDrag",value:function(t){this.dragging=!0}},{key:"stopDrag",value:function(t){this.dragging=!1,this.speedX=0,this.speedY=0,this.knob.style.transform="translate(0px, 0px)"}},{key:"drag",value:function(t){if(this.dragging){var e=this.joystick.getBoundingClientRect(),n=(t.touches?t.touches[0].clientX:t.clientX)-e.left-50,o=(t.touches?t.touches[0].clientY:t.clientY)-e.top-50,i=Math.sqrt(n*n+o*o),s=Math.atan2(o,n);i>40&&(n=40*Math.cos(s),o=40*Math.sin(s)),this.speedX=n/40*this.maxSpeed,this.speedY=o/40*this.maxSpeed,this.knob.style.transform="translate(".concat(n,"px, ").concat(o,"px)"),console.log(this.dragging),this.moveView()}}},{key:"moveView",value:function(){this.dragging&&(this.posX-=this.speedX,this.posY-=this.speedY,this.posX=Math.max(Math.min(this.posX,0),-4760),this.posY=Math.max(Math.min(this.posY,0),-1960),console.log(this.posX+" "+this.posY),this.container.style.transform="translate(".concat(this.posX,"px, ").concat(this.posY,"px)"))}}],n&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}())})();